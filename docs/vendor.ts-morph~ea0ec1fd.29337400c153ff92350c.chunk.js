(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{AW8A:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r("S69g"),o=r("ejOz"),n=r("EboW"),s=r("zjHc"),c=r("bKxU"),a=r("j7ag"),l=r("1hU1"),u=r("qYB5");r("EwZN");t.ProjectContext=class{constructor(e,t,r,i){this._compilerOptions=new a.CompilerOptionsContainer,this.logger=new u.ConsoleLogger,this.manipulationSettings=new a.ManipulationSettingsContainer,this._project=e,this.fileSystemWrapper=t,this._compilerOptions.set(r),this.compilerFactory=new s.CompilerFactory(this),this.inProjectCoordinator=new s.InProjectCoordinator(this.compilerFactory),this.structurePrinterFactory=new s.StructurePrinterFactory(()=>this.manipulationSettings.getFormatCodeSettings()),this.lazyReferenceCoordinator=new u.LazyReferenceCoordinator(this.compilerFactory),this.directoryCoordinator=new c.DirectoryCoordinator(this.compilerFactory,t),this._languageService=i.createLanguageService?new o.LanguageService(this,{resolutionHost:i.resolutionHost}):void 0,null!=i.typeChecker&&(n.throwIfTrue(i.createLanguageService,"Cannot specify a type checker and create a language service."),this._customTypeChecker=new o.TypeChecker(this),this._customTypeChecker._reset(()=>i.typeChecker))}get project(){if(null==this._project)throw new n.InvalidOperationError("This operation is not permitted in this context.");return this._project}get compilerOptions(){return this._compilerOptions}get languageService(){if(null==this._languageService)throw this.getToolRequiredError("language service");return this._languageService}get program(){if(null==this._languageService)throw this.getToolRequiredError("program");return this.languageService.getProgram()}get typeChecker(){if(null!=this._customTypeChecker)return this._customTypeChecker;if(null==this._languageService)throw this.getToolRequiredError("type checker");return this.program.getTypeChecker()}hasLanguageService(){return null!=this._languageService}getEncoding(){return this.compilerOptions.get().charset||"utf-8"}getFormatCodeSettings(){return this.manipulationSettings.getFormatCodeSettings()}getUserPreferences(){return this.manipulationSettings.getUserPreferences()}resetProgram(){this.languageService._resetProgram()}createWriter(){const e=this.manipulationSettings.getIndentationText();return new i.CodeBlockWriter({newLine:this.manipulationSettings.getNewLineKindAsString(),indentNumberOfSpaces:e===a.IndentationText.Tab?void 0:e.length,useTabs:e===a.IndentationText.Tab,useSingleQuote:this.manipulationSettings.getQuoteKind()===o.QuoteKind.Single})}getPreEmitDiagnostics(e){return l.ts.getPreEmitDiagnostics(this.program.compilerObject,null==e?void 0:e.compilerNode).map(e=>this.compilerFactory.getDiagnostic(e))}getToolRequiredError(e){return new n.InvalidOperationError(`A ${e} is required for this operation. `+"This might occur when manipulating or getting type information from a node that was not added to a Project object and created via createWrappedNode. "+`Please submit a bug report if you don't believe a ${e} should be required for this operation.`)}}},n2x4:function(e,t,r){"use strict";(function(e){var i=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__awaiter||function(t,r,i,o){return new(i||(i=e))(function(e,n){function s(e){try{a(o.next(e))}catch(e){n(e)}}function c(e){try{a(o.throw(e))}catch(e){n(e)}}function a(t){t.done?e(t.value):new i(function(e){e(t.value)}).then(s,c)}a((o=o.apply(t,r||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const n=r("EboW"),s=r("bKxU"),c=r("AW8A"),a=r("1hU1"),l=r("qYB5");class u{constructor(e={}){let t=e.fileSystem;if(null!=t&&e.useVirtualFileSystem)throw new n.InvalidOperationError("Cannot provide a file system when specifying to use a virtual file system.");e.useVirtualFileSystem?t=new s.VirtualFileSystemHost:null==t&&(t=new s.DefaultFileSystemHost);const r=new s.FileSystemWrapper(t),i=null==e.tsConfigFilePath?void 0:new l.TsConfigResolver(r,e.tsConfigFilePath,null!=e.compilerOptions&&e.compilerOptions.charset||"utf-8"),o=Object.assign({},null==i?{}:i.getCompilerOptions(),e.compilerOptions||{}),a=e.resolutionHost?e.resolutionHost(this.getModuleResolutionHost(),()=>{if(null==this._context)throw new n.InvalidOperationError("Cannot get the compiler options until the project has initialized. Please ensure `getCompilerOptions` is called within the functions of the resolution host.");return this._context.compilerOptions.get()}):void 0;this._context=new c.ProjectContext(this,r,o,{createLanguageService:!0,resolutionHost:a}),null!=e.manipulationSettings&&this._context.manipulationSettings.set(e.manipulationSettings),null!=i&&!1!==e.addFilesFromTsConfig&&(this._addSourceFilesForTsConfigResolver(i,o),e.skipFileDependencyResolution||this.resolveSourceFileDependencies())}get manipulationSettings(){return this._context.manipulationSettings}get compilerOptions(){return this._context.compilerOptions}resolveSourceFileDependencies(){const e=new Set,t=t=>e.add(t),{compilerFactory:r,inProjectCoordinator:i}=this._context;r.onSourceFileAdded(t);try{this.getProgram().compilerObject}finally{r.onSourceFileAdded(t,!1)}const o=i.markSourceFilesAsInProjectForResolution();for(const t of o.changedSourceFiles)e.add(t);for(const t of o.unchangedSourceFiles)e.delete(t);return Array.from(e.values())}addExistingDirectoryIfExists(e,t={}){return e=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),this._context.directoryCoordinator.addExistingDirectoryIfExists(e,Object.assign({},t,{markInProject:!0}))}addExistingDirectory(e,t={}){return e=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),this._context.directoryCoordinator.addExistingDirectory(e,Object.assign({},t,{markInProject:!0}))}createDirectory(e){return e=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),this._context.directoryCoordinator.createDirectoryOrAddIfExists(e,{markInProject:!0})}getDirectoryOrThrow(e){return n.throwIfNullOrUndefined(this.getDirectory(e),()=>`Could not find a directory at the specified path: ${this._context.fileSystemWrapper.getStandardizedAbsolutePath(e)}`)}getDirectory(e){e=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e);const{compilerFactory:t}=this._context;return t.getDirectoryFromCache(e)}getDirectories(){return Array.from(this._getProjectDirectoriesByDirectoryDepth())}getRootDirectories(){return this._context.compilerFactory.getOrphanDirectories()}addExistingSourceFiles(e){return this._context.directoryCoordinator.addExistingSourceFiles(e,{markInProject:!0})}addExistingSourceFileIfExists(e){return this._context.directoryCoordinator.addExistingSourceFileIfExists(e,{markInProject:!0})}addExistingSourceFile(e){return this._context.directoryCoordinator.addExistingSourceFile(e,{markInProject:!0})}addSourceFilesFromTsConfig(e){e=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e);const t=new l.TsConfigResolver(this._context.fileSystemWrapper,e,this._context.getEncoding());return this._addSourceFilesForTsConfigResolver(t,t.getCompilerOptions())}_addSourceFilesForTsConfigResolver(e,t){const r=e.getPaths(t),i=r.filePaths.map(e=>this.addExistingSourceFile(e));for(const e of r.directoryPaths)this.addExistingDirectoryIfExists(e);return i}createSourceFile(e,t,r){return this._context.compilerFactory.createSourceFile(e,t||"",Object.assign({},r||{},{markInProject:!0}))}removeSourceFile(e){const t=e.wasForgotten();return e.forget(),!t}getSourceFileOrThrow(e){const t=this.getSourceFile(e);if(null!=t)return t;if("string"==typeof e){const t=l.FileUtils.standardizeSlashes(e);if(l.FileUtils.pathIsAbsolute(t)||t.indexOf("/")>=0){const e=this._context.fileSystemWrapper.getStandardizedAbsolutePath(t);throw new n.InvalidOperationError(`Could not find source file in project at the provided path: ${e}`)}throw new n.InvalidOperationError(`Could not find source file in project with the provided file name: ${e}`)}throw new n.InvalidOperationError("Could not find source file in project based on the provided condition.")}getSourceFile(e){const t=function(t){if(e instanceof Function)return e;const r=l.FileUtils.standardizeSlashes(e);return l.FileUtils.pathIsAbsolute(r)||r.indexOf("/")>=0?t.getStandardizedAbsolutePath(r):e=>l.FileUtils.pathEndsWith(e.getFilePath(),r)}(this._context.fileSystemWrapper);return"string"==typeof t?this._context.compilerFactory.getSourceFileFromCacheFromFilePath(t):l.IterableUtils.find(this._getProjectSourceFilesByDirectoryDepth(),t)}getSourceFiles(e){const{compilerFactory:t,fileSystemWrapper:r}=this._context,i=this._getProjectSourceFilesByDirectoryDepth();return"string"==typeof e||e instanceof Array?Array.from(function*(){const o=Array.from(function*(){for(const e of i)yield e.getFilePath()}()),n=l.matchGlobs(o,e,r.getCurrentDirectory());for(const e of n)yield t.getSourceFileFromCacheFromFilePath(e)}()):Array.from(i)}*_getProjectSourceFilesByDirectoryDepth(){const{compilerFactory:e,inProjectCoordinator:t}=this._context;for(const r of e.getSourceFilesByDirectoryDepth())t.isSourceFileInProject(r)&&(yield r)}*_getProjectDirectoriesByDirectoryDepth(){const{compilerFactory:e,inProjectCoordinator:t}=this._context;for(const r of e.getDirectoriesByDepth())t.isDirectoryInProject(r)&&(yield r)}getAmbientModule(e){return e=h(e),this.getAmbientModules().find(t=>t.getName()===e)}getAmbientModuleOrThrow(e){return n.throwIfNullOrUndefined(this.getAmbientModule(e),()=>`Could not find ambient module with name: ${h(e)}`)}getAmbientModules(){return this.getTypeChecker().getAmbientModules()}save(){return o(this,void 0,void 0,function*(){yield this._context.fileSystemWrapper.flush(),yield e.all(this._getUnsavedSourceFiles().map(e=>e.save()))})}saveSync(){this._context.fileSystemWrapper.flushSync();for(const e of this._getUnsavedSourceFiles())e.saveSync()}enableLogging(e=!0){this._context.logger.setEnabled(e)}_getUnsavedSourceFiles(){return Array.from(function*(e){for(const t of e)t.isSaved()||(yield t)}(this._context.compilerFactory.getSourceFilesByDirectoryDepth()))}getPreEmitDiagnostics(){return this._context.getPreEmitDiagnostics()}getLanguageService(){return this._context.languageService}getProgram(){return this._context.program}getTypeChecker(){return this._context.typeChecker}getFileSystem(){return this._context.fileSystemWrapper.getFileSystem()}emit(e={}){return this._context.program.emit(e)}emitSync(e={}){return this._context.program.emitSync(e)}emitToMemory(e={}){return this._context.program.emitToMemory(e)}getCompilerOptions(){return this._context.compilerOptions.get()}createWriter(){return this._context.createWriter()}forgetNodesCreatedInBlock(e){return this._context.compilerFactory.forgetNodesCreatedInBlock(e)}formatDiagnosticsWithColorAndContext(e,t={}){return a.ts.formatDiagnosticsWithColorAndContext(e.map(e=>e.compilerObject),{getCurrentDirectory:()=>this._context.fileSystemWrapper.getCurrentDirectory(),getCanonicalFileName:e=>e,getNewLine:()=>t.newLineChar||r(11).EOL})}getModuleResolutionHost(){const e=this;return{directoryExists:e=>{const r=t();return!!r.compilerFactory.containsDirectoryAtPath(e)||r.fileSystemWrapper.directoryExistsSync(e)},fileExists:e=>{const r=t();return!!r.compilerFactory.containsSourceFileAtPath(e)||r.fileSystemWrapper.fileExistsSync(e)},readFile:r=>{const i=t(),o=i.compilerFactory.getSourceFileFromCacheFromFilePath(r);if(null!=o)return o.getFullText();try{return i.fileSystemWrapper.readFileSync(r,e._context.getEncoding())}catch(e){if(l.FileUtils.isNotExistsError(e))return;throw e}},getCurrentDirectory:()=>t().fileSystemWrapper.getCurrentDirectory(),getDirectories:e=>{const r=t(),i=new Set(r.fileSystemWrapper.readDirSync(e));for(const t of r.compilerFactory.getChildDirectoriesOfDirectory(e))i.add(t.getPath());return Array.from(i)},realpath:e=>t().fileSystemWrapper.realpathSync(e)};function t(){if(null==e._context)throw new n.InvalidOperationError("Cannot use the module resolution host until the project has finished initializing.");return e._context}}}function h(e){return t(e[0])&&t(e[e.length-1])&&(e=e.substring(1,e.length-1)),`"${e}"`;function t(e){return'"'===e||"'"===e}}i([l.Memoize],u.prototype,"getModuleResolutionHost",null),t.Project=u}).call(this,r("B/eG").default)}}]);
//# sourceMappingURL=vendor.ts-morph~ea0ec1fd.29337400c153ff92350c.bundle.map